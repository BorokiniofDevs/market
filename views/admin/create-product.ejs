<!DOCTYPE html>
<html lang="en">
  <%- include("../includes/head.ejs") %>
  <head>
    <link rel="stylesheet" href="/css/forms.css" />
    <link rel="stylesheet" href="/css/product.css" />
  </head>
  <body>
    <%- include("../includes/navigation.ejs") %>

    <main class="hero small-hero">
      <div class="hero-text">
        <% if (editing) { %>
        <h1>Edit Product</h1>
        <p>Update your existing product details</p>
        <% } else { %>
        <h1>Create a Product</h1>
        <p>Add new products to your Market shop</p>
        <% } %>
      </div>
    </main>

    <section class="form-section">
      <form
        action="/admin/<%= editing ? 'edit-product' : 'create-product' %>"
        method="POST"
        class="product-form"
      >
        <% if (editing) { %>
        <input type="hidden" name="productId" value="<%= product.id %>" />
        <% } %>

        <div class="form-group">
          <label for="title">Product Title</label>
          <input
            type="text"
            id="title"
            name="title"
            value="<%= editing && product ? product.title : '' %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="imageUrl">Image URL</label>
          <input
            type="text"
            id="imageUrl"
            name="imageUrl"
            value="<%= editing && product ? product.imageUrl : '' %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="price">Price ($)</label>
          <input
            type="number"
            id="price"
            name="price"
            value="<%= editing && product ? product.price : '' %>"
            required
            min="1"
            step="0.01"
          />
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description" name="description" rows="4" required>
<%= editing && product ? product.description : '' %></textarea
          >
        </div>

        <button type="submit" class="btn">
          <%= editing ? 'Save Changes' : 'Create Product' %>
        </button>
      </form>
    </section>

    <%- include("../includes/footer.ejs") %>
  </body>
</html>
